<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- SEO Improvements -->
  <title>Turtle Colouring Game – Free Online Turtle Drawing</title>

  <meta name="description" content="Play a free online turtle colouring game. Draw, paint, customise colours, and design your own turtle using fun controls and interactive tools." />

  <meta name="keywords" content="turtle colouring game, turtle drawing game, online colouring, paint turtle game, kids drawing game, free turtle colouring" />

  <!-- Schema Markup (this is what Bing said is missing) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "VideoGame",
    "name": "Turtle Colouring Game",
    "description": "A free online turtle colouring and drawing game where players can draw, colour, erase, and customise a turtle using keyboard controls.",
    "genre": "Drawing Game",
    "url": "https://itzmahan-afk.github.io/colouring-game/",
    "operatingSystem": "Web",
    "applicationCategory": "Game",
    "author": {
      "@type": "Person",
      "name": "Mahan"
    }
  }
  </script>

  <style>
     :root {
      --bg: #0b0b0b;
      --panel: rgba(0,0,0,0.55);
      --text: #fff;
      --muted: #ddd;
    }
    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      font-family: Inter, Arial, sans-serif;
    }
    .app {
      width:100vw;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .canvas-wrap {
      position: relative;
      width: 100vw;
      height: 100vh;
      max-width: 1360px;
      max-height: 768px;
    }
    canvas {
      display:block;
      width:100%;
      height:100%;
      background: black;
    }
    .top-instructions {
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      color: var(--text);
      background: var(--panel);
      padding:8px 12px;
      border-radius:8px;
      font-size:14px;
      font-weight:600;
      white-space: nowrap;
    }
    .status-panel {
      position: absolute;
      top: 64px;
      left: 16px;
      display:flex;
      flex-direction:column;
      gap:8px;
      background: var(--panel);
      padding:10px;
      border-radius:8px;
      color:var(--text);
      font-size:14px;
      min-width:160px;
    }
    .status-row {
      display:flex;
      justify-content:space-between;
      gap:8px;
      color:var(--muted);
    }
    .status-row span.value {
      font-weight:700;
      color:var(--text);
    }
    .text-overlay {
      position: absolute;
      inset: 0;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.6);
      z-index: 50;
    }
    .text-panel {
      background: #111;
      padding: 18px;
      border-radius: 10px;
      color: white;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .text-panel input[type="text"] {
      padding:10px;
      background:#222;
      border:1px solid #333;
      color:white;
      border-radius:8px;
      min-width:260px;
      outline:none;
    }
    .text-panel button {
      padding:10px 12px;
      border-radius:8px;
      border:none;
      background:#1976d2;
      color:white;
      cursor:pointer;
      font-weight:600;
    }
    .mobile-hint {
      position:absolute;
      bottom:12px;
      left:50%;
      transform:translateX(-50%);
      color:var(--text);
      background:var(--panel);
      padding:8px;
      border-radius:8px;
      font-size:13px;
    }
    @media (max-width:720px){
      .status-panel { left: 8px; top: 8px; font-size:13px; }
      .top-instructions { font-size:12px; padding:6px; }
    }
  </style>
</head>

<body>
  <a href="https://itzmahan-afk.github.io/flappy-bird/" target="_blank">Play Flappy Bird</a>
  <h1 style="color: white; font-size: 24px; font-weight: bold; text-align: center; margin-top: 10px; margin-bottom: 20px;">
    Turtle Colouring Game
  </h1>

  <div class="app">
    <div class="canvas-wrap" id="canvasWrap">
      <div class="top-instructions" id="instructions">
        Controls: WASD = Move | Space = Pen | C = PenColor | B = BGColor | V = FillColor | F = Fill | Z = Undo | R = Reset | Backspace = Clear | T = Text | K = Square | M = Speed | N = SnapLock
      </div>

      <div class="status-panel" id="statusPanel">
        <div class="status-row">Pen: <span class="value" id="penStatus">DOWN</span></div>
        <div class="status-row">Pen Color: <span class="value" id="penColor">white</span></div>
        <div class="status-row">Fill: <span class="value" id="fillStatus">OFF</span></div>
        <div class="status-row">Fill Color: <span class="value" id="fillColor">white</span></div>
        <div class="status-row">Speed: <span class="value" id="speed">5</span></div>
        <div class="status-row">Snap Lock: <span class="value" id="snapLock">OFF</span></div>
      </div>

      <canvas id="turtleCanvas" width="800" height="600"></canvas>
      <div class="mobile-hint" id="mobileHint" style="display:none;">
        Tap controls hidden — desktop keyboard recommended.
      </div>
    </div>
  </div>

  <!-- Text input overlay -->
  <div id="textOverlay" class="text-overlay" style="display:none;">
    <div class="text-panel">
      <input id="textField" type="text" placeholder="Enter text to draw..." maxlength="80" />
      <button id="drawTextBtn">Draw</button>
      <button id="cancelTextBtn" style="background:#6b7280; margin-left:6px;">Cancel</button>
    </div>
  </div>

  <script>
    (() => {
      const canvas = document.getElementById('turtleCanvas');
      const ctx = canvas.getContext('2d');
      const W = 800, H = 600;

      function resizeCanvas() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = W;
        canvas.height = H;
        canvas.style.width = rect.width+'px';
        canvas.style.height = rect.height+'px';
      }

      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();

      const $ = id => document.getElementById(id);

      const State = {
        x:400, y:300, heading:0, speed:5, is_pen_down:true, pen_color:'white', pen_size:4,
        paths:[], polygons:[], text_elements:[], bg_color:'black', fill_color:'white',
        is_filling:false, fill_points:[], text_input_visible:false, snap_lock:false,
        pressed_keys:new Set(), show_mobile_prompt:true, is_mobile:false,
        COLOR_CYCLE:['white','red','blue','green','yellow','orange','purple','cyan','magenta','lime','pink','teal','black'],
        BG_COLOR_CYCLE:['black','darkslateblue','white','darkgreen','maroon','indigo','saddlebrown','#333333'],
        SPEED_CYCLE:[5,10,25,50,75,100]
      };

      const textOverlay = $('textOverlay'), textField = $('textField'), drawTextBtn = $('drawTextBtn'), cancelTextBtn = $('cancelTextBtn');

      function updateStatus(){
        $('penStatus').textContent = State.is_pen_down ? 'DOWN' : 'UP';
        $('penColor').textContent = State.pen_color;
        $('fillStatus').textContent = State.is_filling ? 'ON' : 'OFF';
        $('fillColor').textContent = State.fill_color;
        $('speed').textContent = State.speed;
        $('snapLock').textContent = State.snap_lock ? 'ON' : 'OFF';
      }

      function rad(deg){return deg*Math.PI/180;}

      function moveForward(record=true){
        const r=rad(State.heading), newX=State.x+State.speed*Math.cos(r), newY=State.y-State.speed*Math.sin(r);
        if(State.is_pen_down && record) State.paths.push({start:{x:State.x,y:State.y},end:{x:newX,y:newY},color:State.pen_color,size:State.pen_size});
        if(State.is_filling) State.fill_points.push({x:State.x,y:State.y});
        State.x=newX; State.y=newY;
      }

      function moveBackward(record=true){
        const r=rad(State.heading), newX=State.x-State.speed*Math.cos(r), newY=State.y+State.speed*Math.sin(r);
        if(State.is_pen_down && record) State.paths.push({start:{x:State.x,y:State.y},end:{x:newX,y:newY},color:State.pen_color,size:State.pen_size});
        if(State.is_filling) State.fill_points.push({x:State.x,y:State.y});
        State.x=newX; State.y=newY;
      }

      function turnLeft(){State.heading=(State.snap_lock?State.heading+45:State.heading+15)%360;}
      function turnRight(){State.heading=(State.snap_lock?State.heading-45+360:State.heading-15+360)%360;}
      function cycle(array,current){const i=array.indexOf(current); return array[(i+1)%array.length];}

      function handleKeyDown(e){
        if(State.text_input_visible) return;
        const key=e.key.toLowerCase();
        if([' ','arrowup','arrowdown','arrowleft','arrowright','backspace'].includes(key)) e.preventDefault();
        State.pressed_keys.add(key);

        if(key===' '){ State.is_pen_down=!State.is_pen_down; }
        else if(key==='c'){ State.pen_color=cycle(State.COLOR_CYCLE,State.pen_color); }
        else if(key==='b'){ State.bg_color=cycle(State.BG_COLOR_CYCLE,State.bg_color); }
        else if(key==='v'){ State.fill_color=cycle(State.COLOR_CYCLE,State.fill_color); }
        else if(key==='f'){
          State.is_filling=!State.is_filling;
          if(State.is_filling) State.fill_points=[{x:State.x,y:State.y}];
          else if(State.fill_points.length>0){ State.polygons.push({points:State.fill_points.slice(),color:State.fill_color}); State.fill_points=[]; }
        }
        else if(key==='z' && State.paths.length>0){ State.paths.pop(); }
        else if(key==='r'){ State.x=400; State.y=300; State.heading=0; }
        else if(key==='backspace'){ State.paths=[]; State.polygons=[]; State.text_elements=[]; State.x=400; State.y=300; State.heading=0; State.bg_color='black'; }
        else if(key==='t'){ showTextInput(); }
        else if(key==='k'){
          for(let side=0;side<4;side++){
            for(let step=0;step<4;step++){ moveForward(true); }
            State.heading=(State.heading-90+360)%360;
          }
        }
        else if(key==='m'){ const idx=State.SPEED_CYCLE.indexOf(State.speed); State.speed=State.SPEED_CYCLE[(idx+1)%State.SPEED_CYCLE.length]; }
        else if(key==='n'){ State.snap_lock=!State.snap_lock; }

        updateStatus();
      }

      function handleKeyUp(e){ if(!State.text_input_visible) State.pressed_keys.delete(e.key.toLowerCase()); }

      window.addEventListener('keydown', handleKeyDown);
      window.addEventListener('keyup', handleKeyUp);

      function showTextInput(){ textOverlay.style.display='flex'; textField.value=''; textField.focus(); State.text_input_visible=true; }
      function hideTextInput(){ textOverlay.style.display='none'; State.text_input_visible=false; }

      drawTextBtn.addEventListener('click',()=>{
        const txt=textField.value.trim();
        if(txt.length>0) State.text_elements.push({content:txt,x:State.x,y:State.y,color:State.pen_color});
        hideTextInput();
      });
      cancelTextBtn.addEventListener('click',hideTextInput);

      textField.addEventListener('keydown',(e)=>{
        if(e.key==='Enter'){ drawTextBtn.click(); e.preventDefault(); }
        else if(e.key==='Escape'){ hideTextInput(); e.preventDefault(); }
      });

      setInterval(()=>{
        if(State.pressed_keys.size===0) return;
        if(State.pressed_keys.has('w')) moveForward(true);
        if(State.pressed_keys.has('s')) moveBackward(true);
        if(State.pressed_keys.has('a')) turnLeft();
        if(State.pressed_keys.has('d')) turnRight();
        if(State.pressed_keys.has('z') && State.paths.length>0) State.paths.pop();
        updateStatus();
      },50);

      function draw(){
        ctx.save();
        ctx.fillStyle=State.bg_color;
        ctx.fillRect(0,0,W,H);

        for(const poly of State.polygons){
          const pts=poly.points;
          if(pts && pts.length>0){
            ctx.beginPath();
            ctx.moveTo(pts[0].x,pts[0].y);
            for(let i=1;i<pts.length;i++) ctx.lineTo(pts[i].x,pts[i].y);
            ctx.closePath();
            ctx.fillStyle=poly.color;
            ctx.fill();
          }
        }

        if(State.is_filling && State.fill_points.length>0){
          ctx.beginPath();
          ctx.moveTo(State.fill_points[0].x,State.fill_points[0].y);
          for(let i=1;i<State.fill_points.length;i++) ctx.lineTo(State.fill_points[i].x,State.fill_points[i].y);
          ctx.lineWidth=1;
          ctx.strokeStyle=State.fill_color;
          ctx.stroke();
        }

        for(const p of State.paths){
          ctx.beginPath();
          ctx.moveTo(p.start.x,p.start.y);
          ctx.lineTo(p.end.x,p.end.y);
          ctx.lineWidth=p.size;
          ctx.lineCap='round';
          ctx.strokeStyle=p.color;
          ctx.stroke();
        }

        ctx.textAlign='center';
        ctx.textBaseline='middle';
        ctx.font='16px Arial';
        for(const t of State.text_elements){ ctx.fillStyle=t.color; ctx.fillText(t.content,t.x,t.y); }

        drawTurtle();
        ctx.restore();
        requestAnimationFrame(draw);
      }

      function drawTurtle(){
        ctx.save();
        ctx.translate(State.x,State.y);
        ctx.rotate((90-State.heading)*Math.PI/180);
        ctx.beginPath();
        ctx.moveTo(0,-12);
        ctx.lineTo(10,8);
        ctx.lineTo(-10,8);
        ctx.closePath();
        ctx.fillStyle=State.pen_color;
        ctx.fill();
        ctx.restore();
      }

      requestAnimationFrame(draw);
      updateStatus();

      function detectMobile(){
        const ua=navigator.userAgent||navigator.vendor||window.opera;
        const isMobile=/android|iphone|ipad|mobile/i.test(ua);
        State.is_mobile=isMobile;
        if(isMobile) $('mobileHint').style.display='block';
      }

      detectMobile();
      window.__TURTLE_STATE=State;
      window.__TURTLE_reset=()=>{
        State.paths=[]; State.polygons=[]; State.text_elements=[]; State.x=400; State.y=300; State.heading=0; State.bg_color='black'; updateStatus();
      };
    })();
  </script>
</body>
</html>
